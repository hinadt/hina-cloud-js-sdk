var e,n;e=this,n=function(){function e(){var e=!1,n=315,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;!function(e){var n=document.createElement("style");n.type="text/css";try{n.appendChild(document.createTextNode(e))}catch(t){n.styleSheet.cssText=e}var t=document.getElementsByTagName("head")[0],o=document.getElementsByTagName("script")[0];t?t.children.length?t.insertBefore(n,t.children[0]):t.appendChild(n):o.parentNode.insertBefore(n,o)}('\n  .hina-click-area:before{\n    pointer-events: none;\n    cursor: pointer;\n    content: "";\n    width: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(56, 166, 251, 0.6);\n    box-shadow: rgba(0, 0, 0, 0.6) 0px 2px 4px;\n    cursor: pointer\n  }\n  .hina-click-area:after{\n    pointer-events: none;\n    height: 14px;\n    line-height: 14px;\n    margin: -7px 0 0 -28px;\n    width: 56px;\n    color: #fff;\n    content: attr(data-click);\n    font-size: 14px;\n    font-weight: 700;\n    left: 50%;\n    line-height: 1em;\n    position: absolute;\n    text-align: center;\n    text-indent: 0;\n    text-shadow: 1px 1px 2px #000;\n    top: 50%;\n    z-index: 999;\n}\n');var o,i,l,d=function(o){var i,l,d,a,s=null===(i=o.data)||void 0===i?void 0:i.type;if("view"===s){var r,c,p,u,v=null===(r=o.data)||void 0===r?void 0:r.lastGraph;$("body > .shadeBoxWrap").remove();for(var h=0;h<(null==v?void 0:v.length);h++){var x=v[h].H_element_selector;$(x).removeClass("hina-click-area")}e=!1,window.removeEventListener("scroll",(function(){}),!0);for(var f=null===(c=o.data)||void 0===c||null===(p=c.viewData)||void 0===p?void 0:p[0],w=null===(u=[null==f?void 0:f.view100,null==f?void 0:f.view90,null==f?void 0:f.view80,null==f?void 0:f.view70,null==f?void 0:f.view60,null==f?void 0:f.view50,null==f?void 0:f.view40,null==f?void 0:f.view30,null==f?void 0:f.view20,null==f?void 0:f.view10])||void 0===u?void 0:u.map((function(e){return e+t})),b=new Array(10).fill(1).map((function(e,n){return 10*(n+1)})).reverse(),g=function(e){return"\n            <span \n              style='\n                font-size:12px;\n                position:absolute;\n                padding: 0 12px;\n                top: -24px;\n                height: 26px;\n                line-height: 26px;\n                left: 0;\n                background: #E6F1FB;\n                color: #0174df;\n                border-radius: 2px;\n              '>\n              ".concat(e,"%\n            </span>\n          ")},y=0;y<b.length;y++){var m=document.createElement("div");m.setAttribute("style","\n            border-bottom: 1px dashed #0174df;\n            height: 1px;\n            width: 100%;\n            position: absolute;\n            top: 50px;\n            z-index:999;\n          "),m.setAttribute("class","viewBaseLineStyle");var _=f["view".concat(b[y])];m.style.top="".concat(_+t,"px"),0!==y?f["view".concat(b[y])]-f["view".concat(b[y-1])]>26&&(m.innerHTML=g(b[y])):f["view".concat(b[y])]>26&&(m.innerHTML=g(b[y])),document.body.appendChild(m)}var k=document.createElement("div");k.setAttribute("style","\n          border-bottom: 1px solid  #0174df;\n          height: 1px;\n          width: 100%;\n          position: absolute;\n          z-index: 9999;\n          top: 0;\n        "),k.setAttribute("class","viewMoveLineStyle"),document.body.appendChild(k),$(document).on("mousemove",(l=function(e){k.style.top="".concat(e.pageY,"px");var n=function(e,n){for(var t=0;t<e.length;t++)if(e[t]>n)return t}(w,e.pageY),t=b[n];k.innerHTML="\n          <span \n          style='\n            font-size:12px;\n            height:26px;\n            line-height: 26px;\n            background: #E6F1FB;\n            color: #0174df;\n            border-radius: 2px;\n            left:50%;\n            margin-left:-65px;\n            position: absolute;\n            top:-13px;\n            padding: 0 5px;\n          '>\n          ".concat(t||0,"%的用户浏览到这里\n          </span>\n        ")},d=150,a=Date.now(),function(){var e=arguments;Date.now()-a>=d&&(l.apply(this,e),a=Date.now())}))}else if("click"===s){var E,B,H;e=!0,$("body > .viewBaseLineStyle").remove(),$("body > .viewMoveLineStyle").remove();var C=null===(E=o.data)||void 0===E?void 0:E.hotData,A=null===(B=o.data)||void 0===B?void 0:B.isResize,W=null===(H=o.data)||void 0===H?void 0:H.lastGraph;if(A&&$("body > .shadeBoxWrap").remove(),null==C||!C.length){for(var L=0;L<(null==W?void 0:W.length);L++){var T=W[L].H_element_selector;$(T).removeClass("hina-click-area")}return}for(var S=function(){var e,t,o,i,l,d,a,s,r=C[z],c=r.H_element_selector,p=r.button_click_rate,u=document.createElement("div");u.setAttribute("style","position: relative;\n       "),u.setAttribute("class","hina-click-area");var v=function(e){var t=e.H_element_content,o=e.button_click_prop,i=e.button_click_rate,l=e.button_click_times,d=e.button_click_users,a=e.his_H_element_content,s="\n    <div style='padding: 8px;'>\n        <div style='color: #CACACA'>当前内容：</div>\n        <div style='white-space:nowrap;overflow:hidden;text-overflow:ellipsis;'>".concat(t||"-","</div>\n        </div>\n            <div style='background: #444; height:1px;'></div>\n            <div style='padding: 8px;'>\n                <table style='width:100%;color:#fff;font-size:13px;background:#333;border:1px solid #333;'>\n                    <tr>\n                        <td>点击次数：</td>\n                        <td style='text-align:right;'>").concat(l,"</td>\n                    </tr>\n                    <tr>\n                        <td>点击人数：</td>\n                        <td style='text-align:right;'>").concat(d,"</td>\n                    </tr>\n                    <tr>\n                        <td>点击率：</td>\n                        <td style='text-align:right;'>").concat(i,"</td>\n                    </tr>\n                    <tr>\n                        <td>点击占比：</td>\n                        <td style='text-align:right;'>").concat(o,"</td>\n                    </tr>\n                </table>\n            </div>\n            <div style='background: #444; height:1px;'></div>\n            <div style='padding: 8px;'>\n                <div style='color: #CACACA;'>历史内容：</div>\n                <div style='white-space:nowrap;overflow:hidden;text-overflow:ellipsis;'>").concat(a||"-","</div>\n            </div>\n            <div style='background: #444; height:1px;'></div>\n            <div style='padding: 6px 8px;' class='user-list' hina-tag-disable='true'>\n                <p style='color:#2a90e2;text-decoration: none;'>查看用户列表</p>\n            </div>\n      "),r=document.createElement("div");return document.body.appendChild(r),r.setAttribute("class","shadeBoxWrap"),r.setAttribute("style","\n          border-radius:3px;\n          display: none;\n          border:1px solid #000;\n          cursor: pointer;\n          position: absolute;\n          left:0;\n          top:0;\n          background: #333;\n          line-height:24px;\n          font-size:13px;\n          width:".concat(220,"px;\n          height:").concat(n,"px;\n          color: #fff;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.24);\n          z-index:9999;\n      ")),r.innerHTML=s,r}(C[z]),h=null===(e=$(c))||void 0===e||null===(t=e.offset())||void 0===t?void 0:t.left,x=window.scrollY,f=$(window).width(),w=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,b=null===(o=$(c))||void 0===o||null===(i=o.position())||void 0===i?void 0:i.top,g=null===(l=$(c))||void 0===l||null===(d=l.offset())||void 0===d?void 0:d.top,y=null===(a=$(c))||void 0===a?void 0:a.css("width"),m=null===(s=$(c))||void 0===s?void 0:s.css("height");$(c).addClass("hina-click-area"),$(c).css("position","relative"),$("".concat(c,":before")).css("position","absolute"),$(c).attr("data-click",p),[y,m,"undefined"].includes("0px")&&($(c).removeClass("display","inline-block"),$(c).css("width","15px"),$(c).css("height","15px")),$(c).mouseenter((function(){if($("body > .shadeBoxWrap > .user-list > p").attr("drillSelector",c),g<50?$("body > .shadeBoxWrap").css("position","fixed"):$("body > .shadeBoxWrap").css("position","absolute"),v.style.display="block",f-h<220)return v.style.left="".concat(h-220,"px"),void(v.style.top="".concat(g>n?g+parseFloat(m)-n:g,"px"));v.style.left="".concat(h,"px"),w-g>n?window.scrollY>n?v.style.top="".concat(b+parseFloat(m),"px"):v.style.top="".concat(g+parseFloat(m)-x,"px"):v.style.top="".concat(g-n,"px");var e=parseInt(v.style.top);e-=window.__POWERED_BY_WUJIE__?40:0,v.style.top=e+"px"})),$(c).mouseleave((function(){})),v.addEventListener("mouseenter",(function(){v.style.display="block"})),v.addEventListener("mouseleave",(function(){$("body > .shadeBoxWrap").css("display","none")}))},z=0;z<(null==C?void 0:C.length);z++)S();$("body > .shadeBoxWrap > .user-list > p").on("click",(function(e){var n,t,i,l,d,a;o.stopPropagation(),window.__POWERED_BY_WUJIE__?window.$wujie.bus.$emit("hotClick",{eleSelector:null==e||null===(n=e.target)||void 0===n||null===(t=n.attributes)||void 0===t||null===(i=t.drillselector)||void 0===i?void 0:i.value,isHotSdkPost:!0}):window.parent.postMessage({eleSelector:null==e||null===(l=e.target)||void 0===l||null===(d=l.attributes)||void 0===d||null===(a=d.drillselector)||void 0===a?void 0:a.value,isHotSdkPost:!0},"*")}))}};return window.__POWERED_BY_WUJIE__?window.$wujie.bus.$on("hotView",(function(e){d(e)})):window.addEventListener("message",(function(e){d(e)}),!1),window.addEventListener("scroll",(o=function(){e&&window.parent.postMessage({isRefush:!0,isHotSdkPost:!0},"*")},i=800,l=null,function(){null!==l&&clearTimeout(l),l=setTimeout(o,i)}),!0),{getHotClickData:d}}return setTimeout((function(){e()}),10),e},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).hina=n();
